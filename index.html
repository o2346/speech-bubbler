<!DOCTYPE html>
<html>
  <body>
    <script src="speech-bubbler.js"></script>
    <script type="text/javascript">
      document.write(
        String().concat(
          '<div>',
          'Under Construction..',
          '</div>',
          '<div>',
          new Bubbler().render( '複線\nドリフト!!' ).replace( /\n/g, '<br>' ),
          '</div>'
        )
      );
      function loadJSON(path, success, error)
      {
          var xhr = new XMLHttpRequest();
          xhr.onreadystatechange = function()
          {
              if (xhr.readyState === XMLHttpRequest.DONE) {
                  if (xhr.status === 200) {
                      if (success)
                          success(JSON.parse(xhr.responseText));
                  } else {
                      if (error)
                          error(xhr);
                  }
              }
          };
          xhr.open("GET", path, true);
          xhr.send();
      }

      loadJSON('test/contents.json',
               function(data) { console.log(data.hoge); },
               function(xhr) { console.error(xhr); }
      );
    </script>
  </body>
</html>

